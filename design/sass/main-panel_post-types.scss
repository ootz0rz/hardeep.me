@import "config-colors";
@import "bootstrap/variables";
@import "bootstrap/mixins";
@import "bootstrap/scaffolding";
@import "utils";
@import "fonts";

$numcol: 3;
$post_size: ($gridColumnWidth * $numcol) + ($gridGutterWidth * ($numcol - 1));
$post_size_L: ($gridColumnWidth * ($numcol * 2)) + ($gridGutterWidth * (($numcol * 2) - 1));

.post {
	height: $post_size;
	float: left;

	margin-top: $gridGutterWidth/2;
	margin-bottom: $gridGutterWidth/2;

	//@include border-radius($post_size/40);

	// individual post type styles
	&.default 
	,&.project
	,&.github
	,&.forrst
	,&.blog
	{
		width: $post_size;
	}

	&.video, &.photo {
		width: $post_size_L;
	}

	&.photo {
		background-image: url(../img/post_photo_polaroidtexture.png);
		background-repeat: repeat;
		background-color: #fff;
		@include box-shadow(0 3px 6px rgba(0,0,0,.25));

		.post-image {
			@extend .img-polaroid;

			margin: $gridGutterWidth;
			margin-bottom: 0;

			background-color: #000;
			background-size: cover;
			height: $post_size - $gridGutterWidth*4;
		}

		$post_title_size: 3em;
		.post-title, .post-date {
			font-family: $FONT_digital_readout;
			font-size: $post_title_size;
			color: #f86c1d;

			margin: 0;
			padding: 0;
			position: relative;

			$textshadow_col: #000;
			@include text-shadow(
					-1px -1px 0 $textshadow_col,  
					1px -1px 0 $textshadow_col,
					-1px 1px 0 $textshadow_col,
					1px 1px 0 $textshadow_col
			);
		}

		.post-title {
			left: $post_title_size / 6 / 2;

			float: left;
		}

		.post-date {
			top: $post_title_size / 6 / 1.5;
			right: $post_title_size / 6 / 1.5;
			font-size: $post_title_size / 1.5;

			float: right;
		}

		.post-description {
			position: relative;
			top: .4em;
			font-size: 1.8em;
			font-family: $FONT_sue_ellen_francisco;
			text-align: center;
		}

		// cellophane tape-ish kinda thingy
		// basic idea via http://cssdemos.tupence.co.uk/before.htm#sticky
		&:before {
			content: url(../img/tape.png);
			display: block;
			position: absolute;
			left: -10px;
			top: -5px;
			width: $gridColumnWidth*1.5;
			height: $gridColumnWidth/2;

			//background-color: rgba(222,220,198,0.7);
			@include rotate3d(-15deg);
		}
	}
}

// rotate photo posts semi randomly
.posts-container {
	.post.photo:nth-child(even) {
		.post-image { background-position: bottom right; }
		@include rotate3d(-1deg);
	}
	.post.photo:nth-child(odd) {
		.post-image { background-position: bottom left; }
		@include rotate3d(1deg);
	}
	.post.photo:nth-child(3n) {
		.post-image { background-position: top right; }
		@include rotate3d(-2deg);
	}
	.post.photo:nth-child(5n) {
		.post-image { background-position: top left; }
		@include rotate3d(2deg);
	}
	.post.photo:nth-child(8n) {
		.post-image { background-position: center center; }
		@include rotate3d(0.5deg);
	}
}